<html>
  <head>
    <title>js.js Simple Execution Demo</title>
    <script type="text/javascript" src="../../src/js.O0.js"></script>
    <script type="text/javascript" src="../../src/jsjs-wrapper.js"></script>
    <script type="text/javascript">

	function start_jsjs() {
	    var src = "1 + 1";
	    var jsObjs = JSJS.Init();
	    
	    var rval = JSJS.EvaluateScript(jsObjs.cx, jsObjs.glob, src);
	    
	    var d;
	    if (rval) {
	        //Convert the JSVal to a double
	        d = JSJS.ValueToNumber(jsObjs.cx, rval);
	    } else {
	        d = "Can't get result because an error happened.";
	    }
	
	    document.getElementById("demo").innerHTML = d;
	    
	    // This is how you do a proper shut down
	    JSJS.End(jsObjs);
	}
	
	window.onload = start_jsjs;

    </script>
  </head>
  <body>
    <h1>js.js Simple Execution Demo</h1>
    <h2>If all goes well, the following should contain the result of "1 + 1":</h2>
    <p id="demo">This will get replaced by the numeric result of the source being evaluated.</p>
  </body>
</html>
